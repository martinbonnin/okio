


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A modern I/O library for Android, Kotlin, and Java.">
      
      
      
        <meta name="author" content="Square, Inc.">
      
      <link rel="shortcut icon" href="../images/icon-square.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.5.7">
    
    
      
        <title>Change Log - Okio</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.b8ac9624.min.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/palette.28f3ef9a.min.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../css/app.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="deep-purple" data-md-color-accent="white">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#change-log" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Okio" class="md-header-nav__button md-logo" aria-label="Okio">
      
  <img src="../images/icon-square.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Okio
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Change Log
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/square/okio/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Okio
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Okio" class="md-nav__button md-logo" aria-label="Okio">
      
  <img src="../images/icon-square.png" alt="logo">

    </a>
    Okio
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/square/okio/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Okio
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://stackoverflow.com/questions/tagged/okio?sort=active" title="Stack Overflow ⏏" class="md-nav__link">
      Stack Overflow ⏏
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../2.x/okio/okio/" title="2.x API" class="md-nav__link">
      2.x API
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://square.github.io/okio/1.x/okio/" title="1.x API ⏏" class="md-nav__link">
      1.x API ⏏
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Change Log
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Change Log" class="md-nav__link md-nav__link--active">
      Change Log
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#version-270" class="md-nav__link">
    Version 2.7.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-260" class="md-nav__link">
    Version 2.6.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-250" class="md-nav__link">
    Version 2.5.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-243" class="md-nav__link">
    Version 2.4.3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-242" class="md-nav__link">
    Version 2.4.2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1175" class="md-nav__link">
    Version 1.17.5
  </a>
  
    <nav class="md-nav" aria-label="Version 1.17.5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version-241" class="md-nav__link">
    Version 2.4.1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-240" class="md-nav__link">
    Version 2.4.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-230" class="md-nav__link">
    Version 2.3.0
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1174" class="md-nav__link">
    Version 1.17.4
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-222" class="md-nav__link">
    Version 2.2.2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1173" class="md-nav__link">
    Version 1.17.3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1172" class="md-nav__link">
    Version 1.17.2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-221" class="md-nav__link">
    Version 2.2.1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-220" class="md-nav__link">
    Version 2.2.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1171" class="md-nav__link">
    Version 1.17.1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1170" class="md-nav__link">
    Version 1.17.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1160" class="md-nav__link">
    Version 1.16.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-210" class="md-nav__link">
    Version 2.1.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-200" class="md-nav__link">
    Version 2.0.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-200-rc1" class="md-nav__link">
    Version 2.0.0-RC1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1150" class="md-nav__link">
    Version 1.15.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1140" class="md-nav__link">
    Version 1.14.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1130" class="md-nav__link">
    Version 1.13.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1120" class="md-nav__link">
    Version 1.12.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1110" class="md-nav__link">
    Version 1.11.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1100" class="md-nav__link">
    Version 1.10.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-190" class="md-nav__link">
    Version 1.9.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-180" class="md-nav__link">
    Version 1.8.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-170" class="md-nav__link">
    Version 1.7.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-160" class="md-nav__link">
    Version 1.6.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-150" class="md-nav__link">
    Version 1.5.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-140" class="md-nav__link">
    Version 1.4.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-130" class="md-nav__link">
    Version 1.3.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-120" class="md-nav__link">
    Version 1.2.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-110" class="md-nav__link">
    Version 1.1.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-101" class="md-nav__link">
    Version 1.0.1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-100" class="md-nav__link">
    Version 1.0.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-090" class="md-nav__link">
    Version 0.9.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-080" class="md-nav__link">
    Version 0.8.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-070" class="md-nav__link">
    Version 0.7.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-061" class="md-nav__link">
    Version 0.6.1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-060" class="md-nav__link">
    Version 0.6.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-050" class="md-nav__link">
    Version 0.5.0
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contributing/" title="Contributing" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../code_of_conduct/" title="Code of Conduct" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#version-270" class="md-nav__link">
    Version 2.7.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-260" class="md-nav__link">
    Version 2.6.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-250" class="md-nav__link">
    Version 2.5.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-243" class="md-nav__link">
    Version 2.4.3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-242" class="md-nav__link">
    Version 2.4.2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1175" class="md-nav__link">
    Version 1.17.5
  </a>
  
    <nav class="md-nav" aria-label="Version 1.17.5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#version-241" class="md-nav__link">
    Version 2.4.1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-240" class="md-nav__link">
    Version 2.4.0
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version-230" class="md-nav__link">
    Version 2.3.0
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1174" class="md-nav__link">
    Version 1.17.4
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-222" class="md-nav__link">
    Version 2.2.2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1173" class="md-nav__link">
    Version 1.17.3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1172" class="md-nav__link">
    Version 1.17.2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-221" class="md-nav__link">
    Version 2.2.1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-220" class="md-nav__link">
    Version 2.2.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1171" class="md-nav__link">
    Version 1.17.1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1170" class="md-nav__link">
    Version 1.17.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1160" class="md-nav__link">
    Version 1.16.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-210" class="md-nav__link">
    Version 2.1.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-200" class="md-nav__link">
    Version 2.0.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-200-rc1" class="md-nav__link">
    Version 2.0.0-RC1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1150" class="md-nav__link">
    Version 1.15.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1140" class="md-nav__link">
    Version 1.14.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1130" class="md-nav__link">
    Version 1.13.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1120" class="md-nav__link">
    Version 1.12.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1110" class="md-nav__link">
    Version 1.11.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-1100" class="md-nav__link">
    Version 1.10.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-190" class="md-nav__link">
    Version 1.9.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-180" class="md-nav__link">
    Version 1.8.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-170" class="md-nav__link">
    Version 1.7.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-160" class="md-nav__link">
    Version 1.6.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-150" class="md-nav__link">
    Version 1.5.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-140" class="md-nav__link">
    Version 1.4.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-130" class="md-nav__link">
    Version 1.3.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-120" class="md-nav__link">
    Version 1.2.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-110" class="md-nav__link">
    Version 1.1.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-101" class="md-nav__link">
    Version 1.0.1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-100" class="md-nav__link">
    Version 1.0.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-090" class="md-nav__link">
    Version 0.9.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-080" class="md-nav__link">
    Version 0.8.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-070" class="md-nav__link">
    Version 0.7.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-061" class="md-nav__link">
    Version 0.6.1
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-060" class="md-nav__link">
    Version 0.6.0
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-050" class="md-nav__link">
    Version 0.5.0
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/square/okio/edit/master/docs/changelog.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="change-log">Change Log<a class="headerlink" href="#change-log" title="Permanent link">&para;</a></h1>
<h2 id="version-270">Version 2.7.0<a class="headerlink" href="#version-270" title="Permanent link">&para;</a></h2>
<p><em>2020-07-07</em></p>
<ul>
<li>
<p>New: <code>Pipe.cancel()</code> causes in-progress and future reads and writes on the pipe to immediately
   fail with an <code>IOException</code>. The streams may still be canceled normally.</p>
</li>
<li>
<p>New: Enlarge Okio&rsquo;s internal segment pool from a fixed 64 KiB total to 64 KiB per processor. For
   example, on an Intel i9 8-core/16-thread machine the segment pool now uses up to 1 MiB of memory.  </p>
</li>
<li>
<p>New: Migrate from <code>synchronized</code> to lock-free when accessing the segment pool. Combined with the
   change above we saw throughput increase 3x on a synthetic benchmark designed to create
   contention.</p>
</li>
</ul>
<h2 id="version-260">Version 2.6.0<a class="headerlink" href="#version-260" title="Permanent link">&para;</a></h2>
<p><em>2020-04-22</em></p>
<ul>
<li>New: <code>InflaterSource.readOrInflate()</code> is like <code>InflaterSource.read()</code>, except it will return 0 if
   consuming deflated bytes from the underlying stream did not produce new inflated bytes.</li>
</ul>
<h2 id="version-250">Version 2.5.0<a class="headerlink" href="#version-250" title="Permanent link">&para;</a></h2>
<p><em>2020-03-20</em></p>
<ul>
<li>New: Upgrade to Kotlin 1.3.70.</li>
</ul>
<h2 id="version-243">Version 2.4.3<a class="headerlink" href="#version-243" title="Permanent link">&para;</a></h2>
<p><em>2019-12-20</em></p>
<ul>
<li>New: Upgrade to Kotlin 1.3.61.</li>
</ul>
<h2 id="version-242">Version 2.4.2<a class="headerlink" href="#version-242" title="Permanent link">&para;</a></h2>
<p><em>2019-12-11</em></p>
<ul>
<li>Fix: Don&rsquo;t crash when an <code>InputStream</code> source is exhausted exactly at a buffer segment boundary.
   We had a bug where a sequence of reads could violate a buffer&rsquo;s invariants, and this could result
   in a crash when subsequent reads encountered an unexpected empty segment.</li>
</ul>
<h2 id="version-1175">Version 1.17.5<a class="headerlink" href="#version-1175" title="Permanent link">&para;</a></h2>
<p><em>2019-12-11</em></p>
<ul>
<li>Fix: Don&rsquo;t crash when an <code>InputStream</code> source is exhausted exactly at a buffer segment boundary.
   We had a bug where a sequence of reads could violate a buffer&rsquo;s invariants, and this could result
   in a crash when subsequent reads encountered an unexpected empty segment.</li>
</ul>
<h3 id="version-241">Version 2.4.1<a class="headerlink" href="#version-241" title="Permanent link">&para;</a></h3>
<p><em>2019-10-04</em></p>
<ul>
<li>Fix: Don&rsquo;t cache hash code and UTF-8 string in <code>ByteString</code> on Kotlin/Native which prevented freezing.</li>
</ul>
<h3 id="version-240">Version 2.4.0<a class="headerlink" href="#version-240" title="Permanent link">&para;</a></h3>
<p><em>2019-08-26</em></p>
<ul>
<li>New: Upgrade to Kotlin 1.3.50.</li>
</ul>
<h3 id="version-230">Version 2.3.0<a class="headerlink" href="#version-230" title="Permanent link">&para;</a></h3>
<p><em>2019-07-29</em></p>
<p><strong>This release changes our build from Kotlin-JVM to Kotlin-multiplatform (which includes JVM).</strong>
Both native and JavaScript platforms are unstable preview releases and subject to
backwards-incompatible changes in forthcoming releases.</p>
<p>To try Okio in a multiplatform project use this Maven coordinate:</p>
<div class="highlight"><pre><span></span><code><span class="n">api</span><span class="p">(</span><span class="err">&#39;</span><span class="n">com</span><span class="p">.</span><span class="n">squareup</span><span class="p">.</span><span class="n">okio</span><span class="p">:</span><span class="n">okio</span><span class="p">-</span><span class="n">multiplatform</span><span class="p">:</span><span class="m">2.3</span><span class="p">.</span><span class="m">0</span><span class="err">&#39;</span><span class="p">)</span>
</code></pre></div>

<p>You’ll also need to <a href="https://blog.gradle.org/gradle-metadata-1.0">enable Gradle metadata</a> in your project&rsquo;s settings. The
artifact name for JVM projects has not changed.</p>
<ul>
<li>New: Upgrade to Kotlin 1.3.40.</li>
<li>Fix: Use Gradle <code>api</code> instead of <code>implementation</code> for the kotlin-stdlib dependency.</li>
<li>Fix: Don&rsquo;t block unless strictly necessary in <code>BufferedSource.peek()</code>.</li>
</ul>
<h2 id="version-1174">Version 1.17.4<a class="headerlink" href="#version-1174" title="Permanent link">&para;</a></h2>
<p><em>2019-04-29</em></p>
<ul>
<li>Fix: Don&rsquo;t block unless strictly necessary in <code>BufferedSource.peek()</code>.</li>
</ul>
<h2 id="version-222">Version 2.2.2<a class="headerlink" href="#version-222" title="Permanent link">&para;</a></h2>
<p><em>2019-01-28</em></p>
<ul>
<li>Fix: Make <code>Pipe.fold()</code> close the underlying sink when necessary.</li>
</ul>
<h2 id="version-1173">Version 1.17.3<a class="headerlink" href="#version-1173" title="Permanent link">&para;</a></h2>
<p><em>2019-01-28</em></p>
<ul>
<li>Fix: Make <code>Pipe.fold()</code> close the underlying sink when necessary.</li>
</ul>
<h2 id="version-1172">Version 1.17.2<a class="headerlink" href="#version-1172" title="Permanent link">&para;</a></h2>
<p><em>2019-01-17</em></p>
<ul>
<li>Fix: Make <code>Pipe.fold()</code> flush the underlying sink.</li>
</ul>
<h2 id="version-221">Version 2.2.1<a class="headerlink" href="#version-221" title="Permanent link">&para;</a></h2>
<p><em>2019-01-17</em></p>
<ul>
<li>Fix: Make <code>Pipe.fold()</code> flush the underlying sink.</li>
</ul>
<h2 id="version-220">Version 2.2.0<a class="headerlink" href="#version-220" title="Permanent link">&para;</a></h2>
<p><em>2019-01-16</em></p>
<ul>
<li>
<p>New: <code>Throttler</code> limits sources and sinks to a maximum desired throughput. Multiple sources and
   sinks can be attached to the same throttler and their combined throughput will not exceed the
   desired throughput. Multiple throttlers can also be used on the same source or sink and they will
   all be honored.</p>
</li>
<li>
<p>New: <code>Pipe.fold()</code> replaces the actively-readable <code>Source</code> with a passively-writable <code>Sink</code>.
   This can be used to forward one sink to a target that is initially undetermined.</p>
</li>
<li>
<p>New: Optimize performance of ByteStrings created with <code>Buffer.snapshot()</code>.</p>
</li>
</ul>
<h2 id="version-1171">Version 1.17.1<a class="headerlink" href="#version-1171" title="Permanent link">&para;</a></h2>
<p><em>2019-01-16</em></p>
<ul>
<li>Fix: Make the newly-backported <code>Pipe.fold()</code> public.</li>
</ul>
<h2 id="version-1170">Version 1.17.0<a class="headerlink" href="#version-1170" title="Permanent link">&para;</a></h2>
<p><em>2019-01-16</em></p>
<ul>
<li>New: Backport <code>Pipe.fold()</code> to Okio 1.x.</li>
</ul>
<h2 id="version-1160">Version 1.16.0<a class="headerlink" href="#version-1160" title="Permanent link">&para;</a></h2>
<p><em>2018-10-08</em></p>
<ul>
<li>New: Backport <code>BufferedSource.peek()</code> and <code>BufferedSource.getBuffer()</code> to Okio 1.x.</li>
<li>Fix: Enforce timeouts when closing <code>AsyncTimeout</code> sources.</li>
</ul>
<h2 id="version-210">Version 2.1.0<a class="headerlink" href="#version-210" title="Permanent link">&para;</a></h2>
<p><em>2018-09-22</em></p>
<ul>
<li>
<p>New: <code>BufferedSource.peek()</code> returns another <code>BufferedSource</code> that reads ahead on the current
   source. Use this to process the same data multiple times.</p>
</li>
<li>
<p>New: Deprecate <code>BufferedSource.buffer()</code>, replacing it with either <code>BufferedSource.getBuffer()</code>
   (in Java) or <code>BufferedSource.buffer</code> (in Kotlin). We have done likewise for <code>BufferedSink</code>.
   When we introduced the new extension method <code>Source.buffer()</code> in Okio 2.0 we inadvertently
   collided with an existing method. This fixes that.</p>
</li>
<li>
<p>New: Improve performance of <code>Buffer.writeUtf8()</code>. This comes alongside initial implementation of
   UTF-8 encoding and decoding in JavaScript which <a href="https://github.com/square/okio/blob/bbb29c459e5ccf0f286e0b17ccdcacd7ac4bc2a9/okio/src/main/kotlin/okio/Utf8.kt#L302">uses XOR masks</a> for great performance.</p>
</li>
</ul>
<h2 id="version-200">Version 2.0.0<a class="headerlink" href="#version-200" title="Permanent link">&para;</a></h2>
<p><em>2018-08-27</em></p>
<p>This release commits to a stable 2.0 API. Read the 2.0.0-RC1 changes for advice on upgrading from
1.x to 2.x.</p>
<p>We&rsquo;ve also added APIs to ease migration for Kotlin users. They use Kotlin&rsquo;s <code>@Deprecated</code> annotation
to help you change call sites from the 1.x style to the 2.x style.</p>
<h2 id="version-200-rc1">Version 2.0.0-RC1<a class="headerlink" href="#version-200-rc1" title="Permanent link">&para;</a></h2>
<p><em>2018-07-26</em></p>
<p>Okio 2 is a major release that upgrades the library&rsquo;s implementation language from Java to Kotlin.</p>
<p>Okio 2.x is <strong>binary-compatible</strong> with Okio 1.x and does not change any behavior. Classes and .jar
files compiled against 1.x can be used with 2.x without recompiling.</p>
<p>Okio 2.x is <strong>.java source compatible</strong> with Okio 1.x in all but one corner case. In Okio 1.x
<code>Buffer</code> would throw an unchecked <code>IllegalStateException</code> when attempting to read more bytes than
available. Okio 2.x now throws a checked <code>EOFException</code> in this case. This is now consistent with
the behavior of its <code>BufferedSource</code> interface. Java callers that don&rsquo;t already catch <code>IOException</code>
will now need to.</p>
<p>Okio 2.x is <strong>.kt source-incompatible</strong> with Okio 1.x. This release adopts Kotlin idioms where they
are available.</p>
<table>
<thead>
<tr>
<th align="left">Java</th>
<th align="left">Kotlin</th>
<th align="left">Idiom</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Buffer.getByte()</td>
<td align="left">operator fun Buffer.get()</td>
<td align="left">operator function</td>
</tr>
<tr>
<td align="left">Buffer.size()</td>
<td align="left">val Buffer.size</td>
<td align="left">val</td>
</tr>
<tr>
<td align="left">ByteString.decodeBase64(String)</td>
<td align="left">fun String.decodeBase64()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">ByteString.decodeHex(String)</td>
<td align="left">fun String.decodeHex()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">ByteString.encodeString(String, Charset)</td>
<td align="left">fun String.encode(Charset)</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">ByteString.encodeUtf8(String)</td>
<td align="left">fun String.encodeUtf8()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">ByteString.getByte()</td>
<td align="left">operator fun ByteString.get()</td>
<td align="left">operator function</td>
</tr>
<tr>
<td align="left">ByteString.of(ByteBuffer)</td>
<td align="left">fun ByteBuffer.toByteString()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">ByteString.of(byte[], int, int)</td>
<td align="left">fun ByteArray.toByteString()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">ByteString.read(InputStream, int)</td>
<td align="left">fun InputStream.readByteString(Int)</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">ByteString.size()</td>
<td align="left">val ByteString.size</td>
<td align="left">val</td>
</tr>
<tr>
<td align="left">DeflaterSink(Sink)</td>
<td align="left">fun Sink.deflater()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">ForwardingSink.delegate()</td>
<td align="left">val ForwardingSink.delegate</td>
<td align="left">val</td>
</tr>
<tr>
<td align="left">ForwardingSource.delegate()</td>
<td align="left">val ForwardingSource.delegate</td>
<td align="left">val</td>
</tr>
<tr>
<td align="left">GzipSink(Sink, Deflater)</td>
<td align="left">fun Sink.gzip()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">GzipSink.deflater()</td>
<td align="left">val GzipSink.deflater</td>
<td align="left">val</td>
</tr>
<tr>
<td align="left">GzipSource(Source)</td>
<td align="left">fun Source.gzip()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">HashingSink.hash()</td>
<td align="left">val HashingSink.hash</td>
<td align="left">val</td>
</tr>
<tr>
<td align="left">HashingSource.hash()</td>
<td align="left">val HashingSource.hash</td>
<td align="left">val</td>
</tr>
<tr>
<td align="left">InflaterSink(Source)</td>
<td align="left">fun Source.inflater()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.appendingSink(File)</td>
<td align="left">fun File.appendingSink()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.blackhole()</td>
<td align="left">fun blackholeSink()</td>
<td align="left">top level function</td>
</tr>
<tr>
<td align="left">Okio.buffer(Sink)</td>
<td align="left">fun Sink.buffer()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.buffer(Source)</td>
<td align="left">fun Source.buffer()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.sink(File)</td>
<td align="left">fun File.sink()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.sink(OutputStream)</td>
<td align="left">fun OutputStream.sink()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.sink(Path)</td>
<td align="left">fun Path.sink()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.sink(Socket)</td>
<td align="left">fun Socket.sink()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.source(File)</td>
<td align="left">fun File.source()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.source(InputStream)</td>
<td align="left">fun InputStream.source()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.source(Path)</td>
<td align="left">fun Path.source()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Okio.source(Socket)</td>
<td align="left">fun Socket.source()</td>
<td align="left">extension function</td>
</tr>
<tr>
<td align="left">Pipe.sink()</td>
<td align="left">val Pipe.sink</td>
<td align="left">val</td>
</tr>
<tr>
<td align="left">Pipe.source()</td>
<td align="left">val Pipe.source</td>
<td align="left">val</td>
</tr>
<tr>
<td align="left">Utf8.size(String)</td>
<td align="left">fun String.utf8Size()</td>
<td align="left">extension function</td>
</tr>
</tbody>
</table>
<p>Okio 2.x has <strong>similar performance</strong> to Okio 1.x. We benchmarked both versions to find potential
performance regressions. We found one regression and fixed it: we were using <code>==</code> instead of <code>===</code>.</p>
<p>Other changes in this release:</p>
<ul>
<li>
<p>New: Add a dependency on kotlin-stdlib. Okio&rsquo;s transitive dependencies grow from none in 1.x to
   three in 2.x. These are kotlin-stdlib (939 KiB), kotlin-stdlib-common (104 KiB), and JetBrains&rsquo;
   annotations (17 KiB).</p>
</li>
<li>
<p>New: Change Okio to build with Gradle instead of Maven.</p>
</li>
</ul>
<h2 id="version-1150">Version 1.15.0<a class="headerlink" href="#version-1150" title="Permanent link">&para;</a></h2>
<p><em>2018-07-18</em></p>
<ul>
<li>New: Trie-based <code>Buffer.select()</code>. This improves performance when selecting
   among large lists of options.</li>
<li>Fix: Retain interrupted state when throwing <code>InterruptedIOException</code>.</li>
</ul>
<h2 id="version-1140">Version 1.14.0<a class="headerlink" href="#version-1140" title="Permanent link">&para;</a></h2>
<p><em>2018-02-11</em></p>
<ul>
<li>New: <code>Buffer.UnsafeCursor</code> provides direct access to Okio internals. This API
   is like Okio&rsquo;s version of Java reflection: it&rsquo;s a very powerful API that can
   be used for great things and dangerous things alike. The documentation is
   extensive and anyone using it should review it carefully before proceeding!</li>
<li>New: Change <code>BufferedSource</code> to implement <code>java.nio.ReadableByteChannel</code> and
   <code>BufferedSink</code> to implement <code>java.nio.WritableByteChannel</code>. Now it&rsquo;s a little
   easier to interop between Okio and NIO.</li>
<li>New: Automatic module name of <code>okio</code> for use with the Java Platform Module
   System.</li>
<li>New: Optimize <code>Buffer.getByte()</code> to search backwards when doing so will be
   more efficient.</li>
<li>Fix: Honor the requested byte count in <code>InflaterSource</code>. Previously this
   class could return more bytes than requested.</li>
<li>Fix: Improve a performance bug in <code>AsyncTimeout.sink().write()</code>.</li>
</ul>
<h2 id="version-1130">Version 1.13.0<a class="headerlink" href="#version-1130" title="Permanent link">&para;</a></h2>
<p><em>2017-05-12</em></p>
<ul>
<li>
<p><strong>Okio now uses <code>@Nullable</code> to annotate all possibly-null values.</strong> We&rsquo;ve
   added a compile-time dependency on the JSR 305 annotations. This is a
   <a href="https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html">provided</a> dependency and does not need to be included in
   your build configuration, <code>.jar</code> file, or <code>.apk</code>. We use
   <code>@ParametersAreNonnullByDefault</code> and all parameters and return types are
   never null unless explicitly annotated <code>@Nullable</code>.</p>
</li>
<li>
<p><strong>Warning: this release is source-incompatible for Kotlin users.</strong>
   Nullability was previously ambiguous and lenient but now the compiler will
   enforce strict null checks.</p>
</li>
</ul>
<h2 id="version-1120">Version 1.12.0<a class="headerlink" href="#version-1120" title="Permanent link">&para;</a></h2>
<p><em>2017-04-11</em></p>
<ul>
<li><strong>Fix: Change Pipe&rsquo;s sink.flush() to not block.</strong> Previously closing a pipe&rsquo;s
   sink would block until the source had been exhausted. In practice this
   blocked the caller for no benefit.</li>
<li><strong>Fix: Change <code>writeUtf8CodePoint()</code> to emit <code>?</code> for partial surrogates.</strong>
   The previous behavior was inconsistent: given a malformed string with a
   partial surrogate, <code>writeUtf8()</code> emitted <code>?</code> but <code>writeUtf8CodePoint()</code> threw
   an <code>IllegalArgumentException</code>. Most applications will never encounter partial
   surrogates, but for those that do this behavior was unexpected.</li>
<li>New: Allow length of <code>readUtf8LineStrict()</code> to be limited.</li>
<li>New: <code>Utf8.size()</code> method to get the number of bytes required to encode a
   string as UTF-8. This may be useful for length-prefixed encodings.</li>
<li>New: SHA-512 hash and HMAC APIs.</li>
</ul>
<h2 id="version-1110">Version 1.11.0<a class="headerlink" href="#version-1110" title="Permanent link">&para;</a></h2>
<p><em>2016-10-11</em></p>
<ul>
<li><strong>Fix: The four-argument overload of <code>Buffer.writeString()</code> had a major bug
   where it didn&rsquo;t respect offsets if the specified charset was UTF-8.</strong> This
   was because our short-circuit optimization omitted necessary offset
   parameters.</li>
<li>New: HMAC support in <code>HashingSource</code>, <code>HashingSink</code>, <code>ByteString</code>, and
   <code>Buffer</code>. This makes it easy to create a keyed-hash message authentication
   code (HMAC) wherever your data is. Unlike the other hashes, HMAC uses a
   <code>ByteString</code> secret key for authentication.</li>
<li>New: <code>ByteString.of(ByteBuffer)</code> makes it easier to mix NIO with Okio.</li>
</ul>
<h2 id="version-1100">Version 1.10.0<a class="headerlink" href="#version-1100" title="Permanent link">&para;</a></h2>
<p><em>2016-08-28</em></p>
<ul>
<li>Fix: Support reading files larger than 2 GiB with <code>GzipSource</code>. Previously
   attempting to decompress such files would fail due to an overflow when
   validating the total length.</li>
<li>Fix: Exit the watchdog thread after being idle for 60 seconds. This should
   make it possible for class unloaders to fully unload Okio.</li>
<li>New: <code>Okio.blackhole()</code> returns a sink where all bytes written are discarded.
   This is Okio&rsquo;s equivalent of <code>/dev/null</code>.</li>
<li>New: Encode a string with any charset using <code>ByteString.encodeString()</code> and
   decode strings in any charset using <code>ByteString.string()</code>. Most applications
   should prefer <code>ByteString.encodeUtf8()</code> and <code>ByteString.utf8()</code> unless it&rsquo;s
   necessary to support a legacy charset.</li>
<li>New: <code>GzipSink.deflater()</code> makes it possible to configure the compression
   level.</li>
</ul>
<h2 id="version-190">Version 1.9.0<a class="headerlink" href="#version-190" title="Permanent link">&para;</a></h2>
<p><em>2016-07-01</em></p>
<ul>
<li>New: <code>Pipe</code> makes it easy to connect a producer thread to a consumer thread.
   Reads block until data is available to read. Writes block if the pipe&rsquo;s is
   full. Both sources and sinks support timeouts.</li>
<li>New: <code>BufferedSource.rangeEquals()</code> makes it easy to compare a range in a
   stream to an expected value. This does the right thing: it blocks to load
   the data required return a definitive result. But it won&rsquo;t block
   unnecessarily.</li>
<li>New: <code>Timeout.waitUntilNotified()</code> makes it possible to use nice timeout
   abstractions on Java&rsquo;s built-in wait/notify primitives.</li>
<li>Fix: Don&rsquo;t return incorrect results when <code>HashingSource</code> does large reads.
   There was a bug where it wasn&rsquo;t traversing through the segments of the buffer
   being hashed. This means that <code>HashingSource</code> was returning incorrect answers
   for any writes that spanned multiple segment boundaries.</li>
</ul>
<h2 id="version-180">Version 1.8.0<a class="headerlink" href="#version-180" title="Permanent link">&para;</a></h2>
<p><em>2016-05-02</em></p>
<ul>
<li>New: <code>BufferedSource.select(Options)</code> API for reading one of a set of
   expected values.</li>
<li>New: Make <code>ByteString.toString()</code> and <code>Buffer.toString()</code> friendlier.
   These methods return text if the byte string is valid UTF-8.</li>
<li>New: APIs to match byte strings: <code>indexOf()</code>, <code>startsWith()</code>, and
   <code>endsWith()</code>.</li>
</ul>
<h2 id="version-170">Version 1.7.0<a class="headerlink" href="#version-170" title="Permanent link">&para;</a></h2>
<p><em>2016-04-10</em></p>
<ul>
<li>New: Change the segment size to 8 KiB. This has been reported to dramatically
   improve performance in some applications.</li>
<li>New: <code>md5()</code>, <code>sha1()</code>, and <code>sha256()</code> methods on <code>Buffer</code>. Also add a
   <code>sha1()</code> method on <code>ByteString</code> for symmetry.</li>
<li>New: <code>HashingSource</code> and <code>HashingSink</code>. These classes are Okio’s equivalent
   to the JDK’s <code>DigestInputStream</code> and <code>DigestOutputStream</code>. They offer
   convenient <code>md5()</code>, <code>sha1()</code>, and <code>sha256()</code> factory methods to avoid an
   impossible <code>NoSuchAlgorithmException</code>.</li>
<li>New: <code>ByteString.asByteBuffer()</code>.</li>
<li>Fix: Limit snapshot byte strings to requested size.</li>
<li>Fix: Change write timeouts to have a maximum write size. Previously large
   writes could easly suffer timeouts because the entire write was subject to a
   single timeout.</li>
<li>Fix: Recover from EBADF failures, which could be triggered by asynchronously
   closing a stream on older versions of Android.</li>
<li>Fix: Don&rsquo;t share segments if doing so only saves a small copy. This should
   improve performance for all applications.</li>
<li>Fix: Optimize <code>BufferedSource.indexOfElement()</code> and <code>indexOf(ByteString)</code>.
   Previously this method had a bug that caused it to be very slow on large
   buffers.</li>
</ul>
<h2 id="version-160">Version 1.6.0<a class="headerlink" href="#version-160" title="Permanent link">&para;</a></h2>
<p><em>2015-08-25</em></p>
<ul>
<li>New: <code>BufferedSource.indexOf(ByteString)</code> searches a source for the next
   occurrence of a byte string.</li>
<li>Fix: Recover from unexpected <code>AssertionError</code> thrown on Android 4.2.2 and
   earlier when asynchronously closing a socket.</li>
</ul>
<h2 id="version-150">Version 1.5.0<a class="headerlink" href="#version-150" title="Permanent link">&para;</a></h2>
<p><em>2015-06-19</em></p>
<ul>
<li>Sockets streams now throw <code>SocketTimeoutException</code>. This builds on new
   extension point in <code>AsyncTimeout</code> to customize the exception when a timeout
   occurs.</li>
<li>New: <code>ByteString</code> now implements <code>Comparable</code>. The comparison sorts bytes as
   unsigned: {@code ff} sorts after {@code 00}.</li>
</ul>
<h2 id="version-140">Version 1.4.0<a class="headerlink" href="#version-140" title="Permanent link">&para;</a></h2>
<p><em>2015-05-16</em></p>
<ul>
<li><strong>Timeout exception changed.</strong> Previously <code>Timeout.throwIfReached()</code> would
   throw <code>InterruptedIOException</code> on thread interruption, and <code>IOException</code> if
   the deadline was reached. Now it throws <code>InterruptedIOException</code> in both
   cases.</li>
<li>Fix: throw <code>EOFException</code> when attempting to read digits from an empty
   source. Previously this would crash with an unchecked exception.</li>
<li>New: APIs to read and write UTF-8 code points without allocating strings.</li>
<li>New: <code>BufferedSink</code> can now write substrings directly, potentially saving an
   allocation for some callers.</li>
<li>New: <code>ForwardingTimeout</code> class.</li>
</ul>
<h2 id="version-130">Version 1.3.0<a class="headerlink" href="#version-130" title="Permanent link">&para;</a></h2>
<p><em>2015-03-16</em></p>
<ul>
<li>New: Read and write signed decimal and unsigned hexadecimal values in
   <code>BufferedSource</code> and <code>BufferedSink</code>. Unlike the alternatives, these methods
   don’t do any memory allocations!</li>
<li>New: Segment sharing. This improves the runtime of operations like
   <code>Buffer.clone()</code> and <code>Buffer.copyTo()</code> by sharing underlying segments between
   buffers.</li>
<li>New: <code>Buffer.snapshot()</code> returns an immutable snapshot of a buffer as a
   <code>ByteString</code>. This builds on segment sharing so that snapshots are shallow,
   immutable copies.</li>
<li>New: <code>ByteString.rangeEquals()</code>.</li>
<li>New: <code>ByteString.md5()</code> and <code>ByteString.sha256()</code>.</li>
<li>New: <code>ByteString.base64Url()</code> returns URL-safe Base64. The existing
   decoding method has been extended to support URL-safe Base64 input.</li>
<li>New: <code>ByteString.substring()</code> returns a prefix, infix, or suffix.</li>
<li>New: <code>Sink</code> now implements <code>java.io.Flushable</code>.</li>
<li>Fix: <code>Buffer.write(Source, long)</code> now always writes fully. The previous
   behavior would return as soon as any data had been written; this was
   inconsistent with all other <em>write()</em> methods in the API.</li>
<li>Fix: don&rsquo;t leak empty segments in DeflaterSink and InflaterSource. (This was
   unlikely to cause problems in practice.)</li>
</ul>
<h2 id="version-120">Version 1.2.0<a class="headerlink" href="#version-120" title="Permanent link">&para;</a></h2>
<p><em>2014-12-30</em></p>
<ul>
<li>Fix: <code>Okio.buffer()</code> <em>always</em> buffers for better predictability.</li>
<li>Fix: Provide context when <code>readUtf8LineStrict()</code> throws.</li>
<li>Fix: Buffers do not call through the <code>Source</code> on zero-byte writes.</li>
</ul>
<h2 id="version-110">Version 1.1.0<a class="headerlink" href="#version-110" title="Permanent link">&para;</a></h2>
<p><em>2014-12-11</em></p>
<ul>
<li>Do UTF-8 encoding natively for a performance increase, particularly on Android.</li>
<li>New APIs: <code>BufferedSink.emit()</code>, <code>BufferedSource.request()</code> and <code>BufferedSink.indexOfElement()</code>.</li>
<li>Fixed a performance bug in <code>Buffer.indexOf()</code></li>
</ul>
<h2 id="version-101">Version 1.0.1<a class="headerlink" href="#version-101" title="Permanent link">&para;</a></h2>
<p><em>2014-08-08</em></p>
<ul>
<li>Added <code>read(byte[])</code>, <code>read(byte[], offset, byteCount)</code>,  and
   <code>void readFully(byte[])</code> to <code>BufferedSource</code>.</li>
<li>Refined declared checked exceptions on <code>Buffer</code> methods.</li>
</ul>
<h2 id="version-100">Version 1.0.0<a class="headerlink" href="#version-100" title="Permanent link">&para;</a></h2>
<p><em>2014-05-23</em></p>
<ul>
<li>Bumped release version. No other changes!</li>
</ul>
<h2 id="version-090">Version 0.9.0<a class="headerlink" href="#version-090" title="Permanent link">&para;</a></h2>
<p><em>2014-05-03</em></p>
<ul>
<li>Use 0 as a sentinel for no timeout.</li>
<li>Make AsyncTimeout public.</li>
<li>Remove checked exception from Buffer.readByteArray.</li>
</ul>
<h2 id="version-080">Version 0.8.0<a class="headerlink" href="#version-080" title="Permanent link">&para;</a></h2>
<p><em>2014-04-24</em></p>
<ul>
<li>Eagerly verify preconditions on public APIs.</li>
<li>Quick return on Buffer instance equivalence.</li>
<li>Add delegate types for Sink and Source.</li>
<li>Small changes to the way deadlines are managed.</li>
<li>Add append variant of Okio.sink for File.</li>
<li>Methods to exhaust BufferedSource to byte[] and ByteString.</li>
</ul>
<h2 id="version-070">Version 0.7.0<a class="headerlink" href="#version-070" title="Permanent link">&para;</a></h2>
<p><em>2014-04-18</em></p>
<ul>
<li>Don&rsquo;t use getters in timeout.</li>
<li>Use the watchdog to interrupt sockets that have reached deadlines.</li>
<li>Add java.io and java.nio file source/sink helpers.</li>
</ul>
<h2 id="version-061">Version 0.6.1<a class="headerlink" href="#version-061" title="Permanent link">&para;</a></h2>
<p><em>2014-04-17</em></p>
<ul>
<li>Methods to read a buffered source fully in UTF-8 or supplied charset.</li>
<li>API to read a byte[] directly.</li>
<li>New methods to move all data from a source to a sink.</li>
<li>Fix a bug on input stream exhaustion.</li>
</ul>
<h2 id="version-060">Version 0.6.0<a class="headerlink" href="#version-060" title="Permanent link">&para;</a></h2>
<p><em>2014-04-15</em></p>
<ul>
<li>Make ByteString serializable.</li>
<li>New API: <code>ByteString.of(byte[] data, int offset, int byteCount)</code></li>
<li>New API: stream-based copy, write, and read helpers.</li>
</ul>
<h2 id="version-050">Version 0.5.0<a class="headerlink" href="#version-050" title="Permanent link">&para;</a></h2>
<p><em>2014-04-08</em></p>
<ul>
<li>Initial public release.</li>
<li>Imported from OkHttp.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../2.x/okio/okio/" title="2.x API" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                2.x API
              </div>
            </div>
          </a>
        
        
          <a href="../contributing/" title="Contributing" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Contributing
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Square, Inc.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.d1f5a259.min.js"></script>
      <script src="../assets/javascripts/bundle.d5fec882.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.fae956e7.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>